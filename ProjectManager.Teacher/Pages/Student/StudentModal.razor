@inherits StudentModalBase

@if (@isLoading)
{
    <TemplatedLoadingPopup />
}
<RadzenTemplateForm TItem="Student" Data="@editModel" Submit="@OnSubmit" InvalidSubmit="@OnInvalidSubmit">
    <div class="row">
        @if (isShow)
        {
            <div class="col-sm-6 padding-right-0">
                <div class="form-group">
                    <RadzenLabel class="form-label" Text="Mã sinh viên" />
                    <RadzenTextBox @bind-Value="@editModel.Username" Disabled="true" />
                </div>
            </div>
        }
        <div class="@(isShow ? "col-sm-6" : "col-sm-12")">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Tên sinh viên" /><span class="required">*</span>
                <RadzenTextBox Name="Name" @bind-Value="@editModel.Name" />
                <RadzenRequiredValidator Component="Name" Text="Thông tin bắt buộc" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 padding-right-0">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Số điện thoại" />
                <RadzenTextBox @bind-Value="@editModel.PhoneNumber" />
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Email" />
                <RadzenTextBox @bind-Value="@editModel.Email" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 padding-right-0">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Quê quán" />
                <RadzenTextBox @bind-Value="@editModel.Address" />
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Ngày sinh" />
                <RadzenDatePicker class="radzen-date-picker" @bind-Value="@editModel.DateOfBirth" DateFormat="@Constants.DateFormat2" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 padding-right-0">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Khoa" />
                <RadzenDropDown class="radzen-dropdown"
                                AllowClear="true"
                                TValue="long?"
                                FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                FilterOperator="StringFilterOperator.Contains"
                                AllowFiltering="true"
                                Data="@listDepartment"
                                TextProperty="Name"
                                ValueProperty="Id"
                                Placeholder="--Tất cả--"
                                @bind-Value="@editModel.DepartmentId" />
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Chuyên ngành" />
                <RadzenDropDown class="radzen-dropdown"
                                AllowClear="true"
                                TValue="long?"
                                FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                FilterOperator="StringFilterOperator.Contains"
                                AllowFiltering="true"
                                Data="@listSpecialized"
                                TextProperty="Name"
                                ValueProperty="Id"
                                Placeholder="--Tất cả--"
                                @bind-Value="@editModel.SpecializedId" />
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-sm-6 padding-right-0">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Lớp" />
                <RadzenDropDown class="radzen-dropdown"
                                AllowClear="true"
                                TValue="long?"
                                FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                FilterOperator="StringFilterOperator.Contains"
                                AllowFiltering="true"
                                Data="@listClasss"
                                TextProperty="Name"
                                ValueProperty="Id"
                                Placeholder="--Tất cả--"
                                @bind-Value="@editModel.ClasssId" />
            </div>
        </div>
        <div class="col-sm-6">
            <div class="form-group">
                <RadzenLabel class="form-label" Text="Hệ đào tạo" />
                <RadzenDropDown class="radzen-dropdown"
                                AllowClear="true"
                                TValue="long?"
                                FilterCaseSensitivity="FilterCaseSensitivity.CaseInsensitive"
                                FilterOperator="StringFilterOperator.Contains"
                                AllowFiltering="true"
                                Data="@listTrainingSystem"
                                TextProperty="Name"
                                ValueProperty="Id"
                                Placeholder="--Tất cả--"
                                @bind-Value="@editModel.TrainingSystemId" />
            </div>
        </div>
    </div>

    @if (isShow)
    {
        <div class="row">
            <div class="col-sm-6 padding-right-0">
                <div class="form-group">
                    <RadzenLabel class="form-label" Text="Người tạo" />
                    <RadzenTextBox @bind-Value="@editModel.CreatedBy" Disabled="true" />
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <RadzenLabel class="form-label" Text="Ngày tạo" />
                    <RadzenDatePicker class="radzen-date-picker" @bind-Value="@editModel.CreatedDate" DateFormat="@Constants.DateFormat" Disabled="true" />
                </div>
            </div>
        </div>
        <div class="row">
            <div class="col-sm-6 padding-right-0">
                <div class="form-group">
                    <RadzenLabel class="form-label" Text="Người sửa" />
                    <RadzenTextBox @bind-Value="@editModel.ModifiedBy" Disabled="true" />
                </div>
            </div>
            <div class="col-sm-6">
                <div class="form-group">
                    <RadzenLabel class="form-label" Text="Ngày sửa" />
                    <RadzenDatePicker class="radzen-date-picker" @bind-Value="@editModel.ModifiedDate" DateFormat="@Constants.DateFormat" Disabled="true" />
                </div>
            </div>
        </div>
    }

    <div class="modal-footer">
        <RadzenButton class="btn btn-danger" Click="@Cancel">
            <RadzenIcon Icon="close" class="material-icons-custom" />Đóng
        </RadzenButton>
        <RadzenButton type="submit" class="btn btn-primary">
            <RadzenIcon Icon="save" class="material-icons-custom" />Lưu
        </RadzenButton>
    </div>
</RadzenTemplateForm>